# ðŸ¤– AGENTS

> Guidance for LLM-based assistants working in the Flywheel repository. See
> [llms.txt](llms.txt) for a quick orientation summary and
> [CLAUDE.md](CLAUDE.md) for Anthropic-specific advice. Broader Codex behavior
> rules live in [codex-custom-instructions.md](docs/codex-custom-instructions.md). The baseline automation prompt is stored in [docs/prompts/codex/automation.md](docs/prompts/codex/automation.md) along with specialized prompts like [docs/prompts/codex/cad.md](docs/prompts/codex/cad.md) and [docs/prompts/codex/physics.md](docs/prompts/codex/physics.md).

## Built-in Assistants
- **Code Linter Agent** â€“ runs ESLint/Flake8 on every PR and suggests patches.
- **Docs Agent** â€“ checks Markdown for typos and broken links.
- **Quest Generator Agent** â€“ scaffolds quests with metadata, code stubs and
  tests on request.
- **Synergy Bot** â€“ detects duplicate utilities across repositories and works
  with [Axel](https://github.com/futuroptimist/axel) to coordinate quests.
- **Release Drafter Bot** â€“ updates release notes automatically when commits land
  on `main`.
- **Prompt Agent** â€“ generates contextâ€‘aware prompts via `flywheel prompt`.
- **Repo Scanner Agent** â€“ clones repositories and writes Markdown reports using
  `python -m flywheel.agents.scanner`.
- **CAD Fit Agent** â€“ verifies SCAD and STL models align using
  `python -m flywheel.fit` and comments on discrepancies.

## Project Structure
- `flywheel/` â€“ Python package with CLI commands and agent logic.
- `webapp/` â€“ Next.js UI written in TypeScript and React.
- `docs/` â€“ Markdown guides and integration docs.
- `scripts/` â€“ automation helpers such as `checks.sh`.
- `tests/` â€“ Python and JavaScript tests.
- `viewer/` â€“ 3â€‘D assembly viewer.
- `cad/` â€“ OpenSCAD source files.
- `stl/` â€“ exported models kept in sync with `cad/`.

## Coding Conventions
### General
- Python 3.12 with `black`, `isort` and `flake8` via preâ€‘commit.
- TypeScript with `eslint` and `prettier` for the webapp.
- Keep functions small and name them descriptively.
- Document complex logic with comments.
- Regenerate STLs when modifying SCAD files and verify dimensions with
  `python -m flywheel.fit`.

### CSS/Styling
- Prefer Tailwind CSS for styling in `webapp/`.
- Use custom CSS only when necessary.

## Testing Requirements
Run the full test suite before committing:

```bash
pre-commit run --all-files
pytest -q
npm run test:ci
python -m flywheel.fit
```

## Pull Request Guidelines
1. Provide a clear description and reference related issues.
2. Ensure all checks pass.
3. Include screenshots for UI changes.
4. Keep PRs focused on a single concern.

## Programmatic Checks
Execute the following before merging:

```bash
bash scripts/checks.sh
```

Set `RUN_SECURITY_ONLY=1` to run just the `bandit` and `safety` scans. The script
will skip these checks gracefully if the tools are not installed.

All checks must pass for code generated by AI agents. For personalization, run
`./scripts/setup.sh YOURNAME YOURREPO` after cloning.
